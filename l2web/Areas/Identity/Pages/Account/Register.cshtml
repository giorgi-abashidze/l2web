@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}

<h1 class="text-light">@ViewData["Title"]</h1>

<div  class="row text-light">
    <div class="col-md-6">
        <form asp-route-returnUrl="@Model.ReturnUrl" method="post">
            <h4>Create a new account.</h4>
            <hr />

            <table style="width:100%;">
                <tbody>
                    <tr>
                        <td width="80px">
                            <div class="form-group">
                                <label asp-for="Input.Prefix"></label>
                                <input id="prefix" asp-for="Input.Prefix" class="form-control bg-secondary text-light" readonly="readonly" />
                            </div>
                        </td>
                        <td width="40px">
                            <button type="button" onclick="generatePrefix()" id="prefixBtn" class="btn btn-primary mt-3 mr-1 ml-1"><i class="fas fa-sync"></i></button>
                        </td>
                        <td>
                            <div class="form-group">
                                <label asp-for="Input.Login"></label>
                                <input asp-for="Input.Login" class="form-control bg-secondary text-light" />

                            </div>
                        </td>
                    </tr>
                    <tr style="margin-top:4px;">
                        <td colspan="3"><span asp-validation-for="Input.Login" class="text-danger"></span></td>
                    </tr>

                </tbody>
            </table>


            <div class="form-group">
                <label asp-for="Input.Email"></label>
                <input asp-for="Input.Email" class="form-control bg-secondary text-light" />
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.Password"></label>
                <input asp-for="Input.Password" class="form-control bg-secondary text-light" />
                <span asp-validation-for="Input.Password" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.ConfirmPassword"></label>
                <input asp-for="Input.ConfirmPassword" class="form-control bg-secondary text-light" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
            </div>
            <div class="form-group mt-4">
                <label asp-for="Input.CaptchaCode"></label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <img id="img-captcha" src="~/captcha-image" />
                    </div>

                    <input type="text"
                           asp-for="Input.CaptchaCode"
                           class="form-control bg-secondary text-light ml-2"
                           autocomplete="off"
                           minlength="4"
                           maxlength="4" />
                </div>
                <span asp-validation-for="Input.CaptchaCode" class="text-danger"></span>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </div>
    <div class="col-md-4">
        <section>
            <h4>Adventure Begins!</h4>
            <hr />
           
                    <div>
                        <p>
                            Prepare yourself for an adventure as you engage in colossal PvP siege battles, join epic raid encounters, build your own clan of allies, or raise your own stable of pets and mounts to traverse the epic Lineage II world!
                        </p>
                    </div>
               
        </section>
    </div>
</div>

<script>
    const alphabet = [...'abcdefghijklmnopqrstuvwxyz'];
    function generatePrefix() {
        

        var first = Math.floor(Math.random() * (alphabet.length - 1));
        var second = Math.floor(Math.random() * (alphabet.length - 1));
        var third = Math.floor(Math.random() * (alphabet.length - 1));

        document.getElementById("prefix").value = (alphabet[first] + alphabet[second] + alphabet[third]).toUpperCase();
    }

    generatePrefix();

    $("html, body").animate({ scrollTop: document.body.getElementsByTagName("main")[0].scrollHeight - (200 * window.devicePixelRatio) }, "slow");
    
</script>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}


